// characters.js

export const characters = [
    {
        id: 'char01', name: '剣士ソラ', role: '剣士', image: 'images/char01.png',
        attackType: 'physical',
        status: {
            maxHp: 250, hp: 250,
            maxMp: 80, mp: 80,
            atk: 50, matk: 10,
            def: 40, mdef: 25,
            spd: 30,
            support: 20,
            criticalRate: 0.15, dodgeRate: 0.1, criticalMultiplier: 1.5
        },
        passive: {
            name: '不屈の魂',
            desc: 'HPが30%以下になると、物理防御力が2倍になる。',
            flavor: '（幾度となく刃を交え、傷を負ってきたその体は、最早並大抵の攻撃では倒れない鋼のような意志を宿している。折れることのないその魂が、絶体絶命の窮地で真価を発揮する。）'
        },
        active: [
            {
                name: '連撃',
                desc: '敵単体に3回連続の物理攻撃を行う。',
                flavor: '（鍛え抜かれた剣技から放たれる、怒涛の連続攻撃。その一太刀一太刀が、敵の防御を粉砕する。）'
            },
            {
                name: 'なぎ払い',
                desc: '敵全体に物理攻撃を行う。',
                flavor: '（全身の力を刃に込めて放つ大振りの一撃。その衝撃波は、眼前の敵を一掃する。）'
            },
            {
                name: 'シールドバッシュ',
                desc: '敵単体に物理攻撃を行い、確率で行動不能にする。',
                flavor: '（剣と盾を駆使した戦術の一つ。盾を叩きつけ、敵の体勢を崩し、動きを封じる。）'
            }
        ],
        special: {
            name: '天空斬り',
            desc: '空高く舞い上がり、敵全体に強力な物理ダメージを与える。',
            flavor: '（天高く跳躍し、太陽の光を浴びた剣は光り輝く。落下と共に放たれる一撃は、まるで天からの裁きのように敵を打ち砕く。）',
            condition: (player) => player.status.mp >= 50
        }
    },
    {
        id: 'char02', name: '魔術師ルナ', role: '魔術師', image: 'images/char02.png',
        attackType: 'magic',
        status: {
            maxHp: 180, hp: 180,
            maxMp: 150, mp: 150,
            atk: 15, matk: 60,
            def: 20, mdef: 45,
            spd: 25,
            support: 30,
            criticalRate: 0.1, dodgeRate: 0.05, criticalMultiplier: 1.8
        },
        passive: {
            name: 'マナの源泉',
            desc: 'ターン開始時、MPが少し回復する。',
            flavor: '（彼女の内に秘められた魔力の泉は、尽きることなく湧き続ける。絶え間なく供給される魔力が、彼女の魔法を支える。）'
        },
        active: [
            {
                name: 'ファイアボール',
                desc: '敵単体に炎の魔法攻撃。',
                flavor: '（指先から生み出された炎の塊が、敵に向かって飛んでいく。基本にして奥義、魔術師の最も得意とする攻撃魔法。）'
            },
            {
                name: 'ブリザード',
                desc: '敵全体に氷の魔法攻撃。',
                flavor: '（冷気を凝縮させ、凍てつく嵐を呼び起こす。その氷雪は、敵の動きを鈍らせ、全身を凍えさせる。）'
            },
            {
                name: 'ヒールライト',
                desc: '味方単体のHPを回復する。',
                flavor: '（温かい光を放ち、傷ついた仲間を優しく包み込む。痛みを和らげ、癒しをもたらす慈愛の光。）'
            }
        ],
        special: {
            name: 'メテオストライク',
            desc: '巨大な隕石を召喚し、敵全体に超大な魔法ダメージを与える。',
            flavor: '（遥か彼方の宇宙から、巨大な岩塊を召喚する。天を覆い尽くすほどの巨大な隕石が、大地を砕く。）',
            condition: (player) => player.status.mp >= 80
        }
    },
    {
        id: 'char03', name: '僧侶セシル', role: '僧侶', image: 'images/char03.png',
        attackType: 'magic',
        status: {
            maxHp: 200, hp: 200,
            maxMp: 120, mp: 120,
            atk: 20, matk: 30,
            def: 30, mdef: 50,
            spd: 35,
            support: 50,
            criticalRate: 0.05, dodgeRate: 0.08, criticalMultiplier: 1.5
        },
        passive: {
            name: '聖なる守護',
            desc: '状態異常にかかりにくくなる。',
            flavor: '（彼女を包み込む神聖なオーラは、不浄なるものを寄せ付けない。どんな呪いや病気も、この守護の前では無力となる。）'
        },
        active: [
            {
                name: 'ホーリーライト',
                desc: '味方全体を少し回復する。',
                flavor: '（天から降り注ぐ光のシャワー。その温かい光は、仲間たちの傷を癒し、疲労を回復させる。）'
            },
            {
                name: 'リザレクション',
                desc: '戦闘不能の味方をHP50%で復活させる。',
                flavor: '（命の灯火が消えかけた仲間を、奇跡の力で蘇らせる。神に祈り、再び立ち上がる力を与える。）'
            },
            {
                name: 'サイレンス',
                desc: '敵単体の魔法を封じる。',
                flavor: '（神聖な言葉で敵の魔力を抑え込む。魔術師の詠唱を妨げ、その力を無効化する。）'
            }
        ],
        special: {
            name: '奇跡の讃美歌',
            desc: '味方全体のHPとMPを全回復させる。',
            flavor: '（命を讃える歌声は、戦場に奇跡を呼ぶ。その聖なる歌声は、仲間たちの心身を完全に癒し、再び戦う活力を与える。）',
            condition: (player) => player.status.mp >= 100 && player.status.hp < player.status.maxHp * 0.2
        }
    },
    {
        id: 'char04', name: '盗賊カイ', role: '盗賊', image: 'images/char04.png',
        attackType: 'physical',
        status: {
            maxHp: 220, hp: 220,
            maxMp: 60, mp: 60,
            atk: 45, matk: 5,
            def: 25, mdef: 15,
            spd: 55,
            support: 10,
            criticalRate: 0.25, dodgeRate: 0.2, criticalMultiplier: 2.0
        },
        passive: {
            name: '先制攻撃',
            desc: '戦闘開始時、相手より先に行動しやすい。',
            flavor: '（影に潜み、気配を消す。敵が気づいた時には、既に刃は喉元に突きつけられている。奇襲を得意とする彼の天性の才能。）'
        },
        active: [
            {
                name: '二連斬り',
                desc: '敵単体に2回連続で物理攻撃を行う。',
                flavor: '（素早い動きで敵を翻弄し、二刀流の刃で一瞬のうちに二度斬りつける。その鋭い攻撃は、敵に回避する隙を与えない。）'
            },
            {
                name: '煙幕',
                desc: '敵全体の命中率を低下させる。',
                flavor: '（手早く煙玉を投げつけ、視界を奪う。敵の注意を引きつけ、その隙に有利な位置へと移動する。）'
            },
            {
                name: 'ぶんどる',
                desc: '敵からアイテムを盗む。',
                flavor: '（一瞬の隙をついて、敵の懐からお宝を奪い取る。戦いながらも、ちゃっかりと利益を得るのが盗賊の流儀。）'
            }
        ],
        special: {
            name: '影渡り',
            desc: '姿を消し、敵単体に致命的な一撃を与える。',
            flavor: '（闇と一体化し、敵の意識からその存在を完全に消し去る。無防備になった敵に、致命的な一撃を叩き込む。）',
            condition: (player) => player.status.hp === player.status.maxHp
        }
    },
    {
        id: 'char05', name: '零唯（あやおに）', role: '魔導士', image: 'images/char05.png',
        attackType: 'magic',
        status: {
            maxHp: 100, hp: 100,
            maxMp: 250, mp: 250,
            atk: 5, matk: 45,
            def: 10, mdef: 25,
            spd: 28,
            support: 70,
            criticalRate: 0.15, dodgeRate: 0.35, criticalMultiplier: 1.5
        },
        passive: {
            name: '妖艶なる書架',
            desc: 'ターン開始時、50%の確率で「深淵の狂気」を既に付与されている敵の「深淵の狂気」スタックを1増加させる。この効果が発動するかどうかは敵ごとに抽選される。',
            flavor: '（覗いてしまったらもう戻れないと知っていても、その妖しげな存在から目を逸らすことなどできないのだ。手にした魔導書、知識、はたまた狂気、それらをさながら本棚のように全て納めるその存在のオーラに、人ならざる者までもが釘付けになるだろう。）'
        },
        active: [
            {
                name: '蠱惑の聖歌',
                desc: '味方全体の体力をわずかに回復し、5ターンの間「深淵の崇拝」効果を付与する。「深淵の崇拝」状態の味方は、「深淵の狂気」を持つ敵に与えるダメージが上昇する。',
                flavor: '(呪文のようなその神秘的な歌は共に戦う者を包容する。心が落ち着き、不思議と冴え渡る頭には、同じ源から生まれた狂気に陥った敵のことなど手に取るように分かるだろう。味方に安寧を、敵に混乱を。それがその者が生み出す深淵の効果なのだ。)'
            },
            {
                name: '深淵の理路',
                desc: '敵全体に5ターンの間「深淵の狂気」効果を付与する。「深淵の狂気」効果は、敵が行動する際に10%の確率で行動不能にする。この効果はスタック可能で、スタック数に応じて行動不能率が上昇する(スタック数の上限はなし)。パッシブの効果かこのスキルを掛け直すことでスタックが1増加し、効果ターンの残りが5ターンにリフレッシュされる。',
                flavor: '(叡智と狂気を織り交ぜた精神世界を覗くのならば、そこには常人には理解し難い深淵が広がっていることだろう。もっとも、相手はそれを”覗かされる”わけだが。)'
            },
            {
                name: '血晶の零滴',
                desc: '敵単体に3ターンの間、ターン終了時にダメージを与える。このスキルの効果で与えたダメージに応じてマナを回復する。',
                flavor: '(敵が流した血は妖しく艶めく結晶と化す。それらを拾い集めれば、インクのように魔導書に刻まれ、新たな敵を倒す糧となることだろう。)'
            }
        ],
        special: {
            name: '狂気の再編',
            desc: '「深淵の狂気」スタックが5以上の敵を対象に発動する(複数体いる場合はその全てが対象)。対象の「深淵の狂気」スタック数をリセットし、そのスタック数に応じた大ダメージを与える。その後、対象の敵に「深淵の残響」効果を付与する。「深淵の残響」効果が付与されている敵には、「深淵の狂気」効果を再び付与することはできない。また「深淵の残響」効果はスタックしない。「深淵の残響」は、「深淵の狂気」5スタックと同等の行動不能効果を持つ。',
            flavor: '(狂気に陥った敵の思考回路は、魔導書に吸収され、魔術回路へと再編される。膨大な無理解となって撃ち返されたそれを喰らった者には、最早抵抗する余力すら残らないことだろう。)',
            condition: null//未実装
        }
    }
];